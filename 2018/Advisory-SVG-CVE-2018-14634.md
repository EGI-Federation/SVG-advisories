---
title: Advisory-SVG-CVE-2018-14634
---

````
Title:   EGI SVG 'ADVISORY' [TLP:WHITE] CRITICAL risk Integer overflow
         vulnerability in the
         Linux kernel's create_elf_tables() function. CVE-2018-14634
         [EGI-SVG-CVE-2018-14634]

Date:    2018-09-27
Updated: 2018-10-03, 2018-10-05, 2018-10-11

Affected software and risk
==========================

CRITICAL risk vulnerability concerning in the Linux kernel's
create_elf_tables() function.

Package : Linux kernel
CVE ID  : CVE-2018-14634
Bug ID  :

An integer overflow vulnerability has been found in Linux Kernel's
create_elf_tables() function which may allow privilege escalation. [R 1], [R
2]. It only applies to systems with more than 32GiB of RAM/swap and on which
users can allocate 32GiB.

Actions required/recommended
============================

For affected systems, sites should immediately apply the mitigation described
below to all systems which allow users to run arbitrary processes, such as
Worker Nodes (WNs) and User Interfaces (UIs).

For affected systems, sites are required to update their kernels and re-boot as
soon as soon as possible.

All affected running resources MUST be either patched or have mitigation in
place or software removed by 2018-10-05 00:00 UTC

Sites failing to act and/or failing to respond to requests from the EGI CSIRT
team risk site suspension.

Component installation information
==================================

For RedHat enterprise Linux see  [R 2]

For Scientific Linux see [R 4]

For CentOS see [R 5] **UPDATE** Centos has released update see [R 9]

For Ubuntu see [R 6]

For Debian see [R 7]

**UPDATE 2018-10-11**

Updates are now available for RH6 and its derivatives, including SL6 [R 11]

Mitigation
==========

On all affected systems which allow users to run arbitrary processes, such as
Worker Nodes (WNs) and User Interfaces (UIs) site admins should carry out:--

echo 'ulimit -Hs 16000000' > /etc/profile.d/CVE-2018-14634.sh

This memory limitation prevents the exploit from being carried out.
This mitigation works on a User Interface (UI) and has been tested for
Torque/PBS: it depends on jobs being started through a login shell, which may
not be the case with other batch systems.

For HTCondor, please see this advice from the HTCondor Users list [ R 10 ]
which suggests the following to set memory limits (will kill running jobs so
requires a drain):

```
** For HTCondor v8.6.x+ installed from RPMs on RHEL6, SL6, Centos6 (i.e.
distros running init):

As root run the following commands:

   sed -i 's/ULIMIT_FLAGS=.*/ULIMIT_FLAGS="-Hs 16000000"/' /etc/sysconfig/condor
   service condor restart

** For HTCondor v8.6.x+ installed from RPMs or DEBs on RHEL7, Centos7, SL7,
Debian, or Ubuntu (i.e. distros running systemd):

As root run the following commands:

  mkdir /etc/systemd/system/condor.service.d
  echo -e '[Service]\nLimitSTACK=16G\n' > \
    /etc/systemd/system/condor.service.d/CVE-2018-14634.conf
  systemctl restart condor
```

RedHat have documented a different mitigation. [R 2], [R 3]


Affected software details
=========================

From [R 1] Kernel versions 2.6.x, 3.10.x and 4.14.x are believed to be
vulnerable


More information
================

SVG RAT members and colleagues have tested the exploit, and find the
vulnerability to be exploitable.

It only applies to systems with more than 32GiB of RAM/swap and on which users
can allocate 32GiB.  In addition on systems which do have enough memory, it
still needs to be available: if other jobs are consuming their memory, the
exploit will need to compete for the resources.

No fix available yet for RedHat 6 and its derivatives.

TLP and URL
===========

** WHITE information - Unlimited distribution -
   see https://go.egi.eu/tlp for distribution restrictions **

URL:   https://advisories.egi.eu/2018/Advisory-SVG-CVE-2018-14634

Minor updates may be made without re-distribution to the sites

Comments
========

Comments or questions should be sent to svg-rat  at  mailman.egi.eu

If you find or become aware of another vulnerability which is relevant to EGI
you may report it by e-mail to report-vulnerability at egi.eu

the EGI Software Vulnerability Group will take a look according to the
procedure defined in [R 8]

Note that this has been updated and the latest version approved by the
Operations Management Board in November 2017


References
==========

[R 1] http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-14634

[R 2] https://access.redhat.com/security/cve/CVE-2018-14634

[R 3] https://bugzilla.redhat.com/show_bug.cgi?id=1624498

[R 4] https://www.scientificlinux.org/category/sl-errata/slsa-20182748-1/

[R 5] https://lists.centos.org/pipermail/centos-announce/

[R 6] http://people.canonical.com/~ubuntu-security/cve/2018/CVE-2018-14634.html

[R 7] https://security-tracker.debian.org/tracker/CVE-2018-14634

[R 8] https://documents.egi.eu/public/ShowDocument?docid=3145

[R 9] https://lists.centos.org/pipermail/centos-announce/2018-September/023027.html

[R 10] https://www-auth.cs.wisc.edu/lists/htcondor-users/2018-October/msg00030.shtml

[R 11] https://www.scientificlinux.org/category/sl-errata/slsa-20182846-1/

Credit
======

SVG was alerted to this vulnerability by Linda Cornwall, investigations and
mitigation carried out by Vincent Brillault, David Crooks, Ake Sandgren and
Maarten Litmaath.

Credit to Todd Tannenbaum, Christophe Diarra, Andrea Sartirana and Sean Crosby
for the advice on HTCondor memory limits.

Timeline
========

Yyyy-mm-dd  [EGI-SVG-2018-CVE-2018-14634]

2018-09-26 SVG Alert to publicly disclosed vulnerability
2018-09-26 Investigation of vulnerability and relevance to EGI carried out by
           Vincent Brillault, David Crooks, Ake Sandgren and Maarten Litmaath
2018-09-27 EGI SVG Risk Assessment completed
2018-09-27 Advisory/Alert sent to sites
2018-10-11 Updates now available for RH6 and its derivatives, including SL6


Context
=======

This advisory has been prepared as part of the effort to fulfil EGI SVG's
purpose "To minimize the risk to the EGI infrastructure arising from software
vulnerabilities"

The risk is that assessed by the group, according to the EGI SVG issue handling
procedure [R 8] in the context of how the software is used in the EGI
infrastructure. It is the opinion of the group, we do not guarantee it to be
correct. The risk may also be higher or lower in other deployments depending on
how the software is used.

Others may re-use this information provided they:-

1) Respect the provided TLP classification

2) Credit the EGI https://www.egi.eu/ Software Vulnerability Group



On behalf of the EGI SVG,
````
